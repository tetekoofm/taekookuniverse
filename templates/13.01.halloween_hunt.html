{% extends "00.base.html" %}
{% block title %}üéÉ Ghosty's Halloween Hunt{% endblock %}
{% block content %}

<div class="halloween-container">
  <!-- Popup content; will be hidden once hunt starts -->
  <div id="ghostyPopupOverlay" class="popup-visible">
    <div class="popup-content ghosty-font">
      <img src="/static/images/halloween/ghosty.png" alt="Ghosty Avatar" class="ghosty-avatar">
      <h1>Find Our Ghosty!</h1>
      <p>
        Oh no! Ghosty, our mischievous admin, is missing on her birthday!<br>
        She left behind clues and emojis, floating away with her magical friends<br>
        <strong>Ms. Catty üê±</strong> and <strong>Mr. Batty ü¶á</strong>.<br>
        Can you track her down and uncover her secret hiding spots?<br>
        Your adventure starts now!
      </p>
      <button id="startHuntBtn">Start the Hunt!</button>
      <div class="ghosty-gifs">
        <img src="/static/images/halloween/taekook1.gif" alt="Taekook Halloween 1">
        <img src="/static/images/halloween/taekook2.gif" alt="Taekook Halloween 2">
      </div>
    </div>
  </div>

  <audio id="halloweenAudio" src="/static/audio/halloween.mp3" loop></audio>
</div>

<style>
  /* ===================== FONTS ===================== */
@import url('https://fonts.googleapis.com/css2?family=Creepster&family=UnifrakturCook:wght@700&family=Special+Elite&family=Nosifer&display=swap');

/* ===================== BODY & CONTAINER ===================== */
body, .halloween-container {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: radial-gradient(circle at center, #0a0a0a 0%, #1a001a 100%);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;
  overflow-x: hidden;
  text-align: center;
  font-family: 'Fredericka the Great', cursive;
}

.halloween-container {
  padding: 40px;
}

/* ===================== GLOWING HEADINGS ===================== */
.halloween-container h1.glow {
  font-family: 'Creepster', cursive;
  color: #fff;
  text-shadow: 0 0 12px #9b5de5, 0 0 25px #cda6ff, 0 0 50px #7b3fbf;
  margin-bottom: 25px;
  font-size: 5em;
  text-align: center;
}

/* ===================== AVATAR ===================== */
.avatar, .ghosty-avatar {
  border-radius: 50%;
  border: 4px solid #9b5de5;
  box-shadow: 0 0 20px #9b5de5, 0 0 40px #7b3fbf;
  object-fit: cover;
  display: block;
  margin: 20px auto;
  transition: transform 0.3s ease;
}

.avatar:hover, .ghosty-avatar:hover {
  transform: scale(1.2);
}

/* ===================== TAEKOOK GALLERY ===================== */
.taekook-gallery {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 25px;
  margin-bottom: 60px;
}

.taekook-gallery img {
  width: 200px;
  height: 200px;
  object-fit: cover;
  border-radius: 25px;
  box-shadow: 0 0 25px #9b5de5, 0 0 50px #7b3fbf;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.taekook-gallery img:hover {
  transform: scale(1.25);
  box-shadow: 0 0 50px #9b5de5, 0 0 75px #7b3fbf;
}

/* ===================== POPUP OVERLAY ===================== */
#ghostyPopupOverlay {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(5px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  flex-direction: column;
  text-align: center;
  padding: 20px;
  animation: fadeIn 1s ease;
}

.halloween-container .popup-content {
  background: rgba(0, 0, 0, 0.75);
  border: 2px solid #9b5de5;
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 0 30px #9b5de5;
  text-align: center;
}

.halloween-container .ghosty-font h1 {
  font-family: 'Creepster', cursive;
  font-size: 3em;
  color: #9b5de5;
  text-shadow: 0 0 20px #9b5de5;
  margin-bottom: 20px;
  margin-top: 20px;
}

.halloween-container .ghosty-font p {
  font-family: 'Special Elite', cursive;
  font-size: 1.3em;
  color: #7CFC00; /* neon green for that eerie glow */
  line-height: 1.5;
  text-shadow: 
    0 0 5px #000,      /* subtle dark outline for readability */
    0 0 8px #7CFC00,   /* inner glow matching text color */
    0 0 12px #32CD32;  /* soft outer glow for extra pop */
  letter-spacing: 0.5px; /* slight spacing for readability */
  margin-bottom: 20px;
}

.halloween-container .ghosty-font button, #startHuntBtn {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.3em;
  padding: 12px 30px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(90deg,#7b3fbf,#9b5de5);
  color: #fff;
  cursor: pointer;
  box-shadow: 0 0 15px #9b5de5, 0 0 30px #7b3fbf;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  margin-bottom: 20px;
}

.halloween-container .ghosty-font button:hover, #startHuntBtn:hover {
  transform: scale(1.1);
  box-shadow: 0 0 40px #9b5de5, 0 0 60px #7b3fbf;
}

.halloween-container .ghosty-gifs {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 30px;
}

.halloween-container .ghosty-gifs img {
  width: 280px;
  height: 280px;
  object-fit: cover;
  border-radius: 20px;
  box-shadow: 0 0 20px #9b5de5, 0 0 40px #7b3fbf;
}

/* ===================== HALLOWEEN ICONS & SPARKLES ===================== */
.halloween-icon {
  position: fixed;
  cursor: pointer;
  z-index: 9999;
  transition: transform 0.3s ease, opacity 0.3s ease;
  filter: invert(1);
  pointer-events: auto;
}

.halloween-icon:hover {
  transform: scale(1.3) rotate(var(--rotate-deg));
}

.spooky, .sparkle {
  position: absolute;
  pointer-events: none;
  border-radius: 50%;
  animation: sparkle 0.8s ease-out forwards;
}

.spooky { z-index: 5; }
.sparkle { width: 8px; height: 8px; background: white; }

@keyframes sparkle {
  0% { opacity: 1; transform: scale(1) translate(0,0); }
  100% { opacity: 0; transform: scale(0.3) translate(var(--sx), var(--sy)); }
}

/* ===================== COUNTER ===================== */
.halloween-counter {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(50,0,70,0.85);
  color: #fff;
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 14px;
  z-index: 9999;
  box-shadow: 0 0 20px #9b5de5;
}

/* ===================== RESPONSIVE ===================== */
@media (max-width: 1024px) {
  #ghostyPopupOverlay {
    padding: 0;          /* remove overlay padding */
    display: flex;
    justify-content: center; 
    align-items: center;
    text-align: center;
  }
  .popup-content {
    width: 100%;
    max-width: 700px;     /* reasonable tablet max-width */
    padding: 25px;        /* inner padding for content */
    margin: 0 auto;       /* center horizontally */
    box-sizing: border-box;
  }
  .avatar { width: 200px; height: 200px; margin: 25px auto; }
  .taekook-gallery img { width: 180px; height: 180px; }
  .ghosty-avatar { width: 180px; height: 180px; margin-bottom: 20px; }
  .ghosty-gifs img { width: 140px; height: 140px; gap: 10px; }
  #ghostyPopupOverlay h1 { font-size: 2em; }
  #ghostyPopupOverlay p { font-size: 1.2em; line-height: 1.3em; margin-bottom: 20px; }
}

@media (max-width: 768px) {
  #ghostyPopupOverlay {
    padding: 0;          /* remove overlay padding */
    display: flex;
    justify-content: center; 
    align-items: center;
    text-align: center;
  }
  .popup-content {
    width: 100%;
    max-width: 320px;
    text-align: center;
    padding: 15px;
    box-sizing: border-box;
    align-items: center;
    margin: 0 auto; 
  }
  .avatar { width: 180px; height: 180px; margin: 20px auto; }
  .message { font-size: 1.25em; line-height: 1.5em; padding: 14px; margin-bottom: 35px; }
  .taekook-gallery img { width: 160px; height: 160px; }
  .ghosty-avatar { width: 120px; height: 120px; margin-bottom: 15px; }
  .ghosty-gifs { gap: 8px; flex-wrap: wrap; justify-content: center; margin-top: 15px; }
  .ghosty-gifs img { width: 100px; height: 100px; }
  #ghostyPopupOverlay h1 { font-size: 1.5em; margin-bottom: 10px; }
  #ghostyPopupOverlay p { font-size: 0.95em; line-height: 1.3em; margin-bottom: 15px; }
  #startHuntBtn { font-size: 0.9em; padding: 8px 16px; margin-top: 10px; }
  h1 { font-size: 1.8em; }
  .message { font-size: 0.95em; line-height: 1.3em; margin: 10px 8px; }
  .taekook-gallery { gap: 12px; margin: 10px auto; }
  .taekook-gallery img { width: 100px; height: 100px; }
  .spooky { width: 12px; height: 12px; }
}
</style>
{% endblock %}
