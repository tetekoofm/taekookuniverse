<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üéÉ Taekook Halloween Special</title>
<link rel="stylesheet" href="/static/css/halloween-hunt.css">

</head>
<body>
  <div class="halloween-container">
    <div class="button-container">
      <a href="/" class="Home Button" aria-label="Home">üè†</a>
      <a href="/games" class="Games Button" aria-label="Back to Games">üéÆ</a>
    </div>

  <h1 class="glow">üéÉ Halloween Surprise!</h1>

  <div class="avatar-wrapper">
    <img src="/static/images/halloween/ghosty.png" alt="Ghosty Admin" class="avatar">
  </div>

  <div class="message glow">
    Congratulations Spookies! üëª <br>
    You finally found me! I‚Äôm still here! <br>
    Let‚Äôs spread love everywhere like our Taekook! üéâ
  </div>

  <div class="taekook-gallery">
    <img src="/static/images/halloween/taekook1.gif" alt="Taekook Halloween 1" onerror="this.src='/static/images/halloween/taekook1.png'">
    <img src="/static/images/halloween/taekook2.gif" alt="Taekook Halloween 2" onerror="this.src='/static/images/halloween/taekook2.png'">
  </div>

  <audio id="halloweenAudio" autoplay loop>
    <source src="/static/audio/halloween.mp3" type="audio/mpeg">
  </audio>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const totalHalloweenImages = 14;
  const floatingCount = 50;

  for(let i=0;i<floatingCount;i++){
    const iconNum = Math.floor(Math.random() * totalHalloweenImages) + 1;
    const img = document.createElement("img");
    img.src = `/static/images/halloween/${iconNum}.png`;
    img.className = "spooky";

    // Random starting position
    img.style.left = Math.random()*100 + "vw";
    img.style.top = Math.random()*100 + "vh";

    // Random size
    const size = 20 + Math.random()*20; // 20-40px
    img.style.width = img.style.height = size + "px";

    // Generate unique animation name
    const animName = `float${i}`;
    const duration = 3 + Math.random()*3; // 3-6s
    const xOffset = 50 + Math.random()*100; // random horizontal movement
    const yOffset = 50 + Math.random()*100; // random vertical movement
    const rotate = Math.random()*360;

    // Create dynamic keyframes
    const style = document.createElement("style");
    style.innerHTML = `
      @keyframes ${animName} {
        0% { transform: translate(0px,0px) rotate(0deg); }
        25% { transform: translate(${xOffset/2}px,${-yOffset/2}px) rotate(${rotate/4}deg); }
        50% { transform: translate(${xOffset}px,${yOffset}px) rotate(${rotate/2}deg); }
        75% { transform: translate(${-xOffset/2}px,${yOffset/2}px) rotate(${rotate*0.75}deg); }
        100% { transform: translate(0px,0px) rotate(${rotate}deg); }
      }
    `;
    document.head.appendChild(style);

    img.style.animation = `${animName} ${duration}s linear infinite`;

    document.body.appendChild(img);
  }

  // Confetti as before
  function launchConfetti(){
    for(let i=0;i<200;i++){
      const confetti = document.createElement("div");
      confetti.style.position="fixed";
      const size = 5 + Math.random()*10;
      confetti.style.width = confetti.style.height = size + "px";
      confetti.style.backgroundColor = `hsl(${Math.random()*360}, 70%, 60%)`;
      confetti.style.left = Math.random()*100 + "vw";
      confetti.style.top = -10 + "px";
      confetti.style.zIndex = 9999;
      confetti.style.borderRadius = "50%";
      confetti.style.pointerEvents = "none";
      confetti.style.animation = `fall ${3+Math.random()*2}s linear forwards`;
      document.body.appendChild(confetti);
      setTimeout(()=>confetti.remove(),4000);
    }
  }

  launchConfetti();

  localStorage.removeItem("foundIcons");
  localStorage.removeItem("chosenIcons");
  localStorage.setItem("gameActive", false);
  sessionStorage.removeItem("gameToken"); 
});

</script>
<style>
  /* ===================== FONTS ===================== */
@import url('https://fonts.googleapis.com/css2?family=Creepster&family=UnifrakturCook:wght@700&family=Special+Elite&family=Nosifer&display=swap');

/* ===================== BODY & CONTAINER ===================== */
body, .halloween-container {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: radial-gradient(circle at center, #0a0a0a 0%, #1a001a 100%);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  position: relative;
  overflow-x: hidden;
  text-align: center;
  font-family: 'Fredericka the Great', cursive;
}

.halloween-container {
  max-width: 95%;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  box-sizing: border-box;
}

/* ===================== GLOWING HEADINGS ===================== */
.halloween-container h1.glow {
  font-family: 'Creepster', cursive;
  color: #fff;
  text-shadow: 0 0 12px #9b5de5, 0 0 25px #cda6ff, 0 0 50px #7b3fbf;
  margin-bottom: 25px;
  font-size: 5em;
  text-align: center;
}

/* ===================== AVATAR ===================== */
.avatar, .ghosty-avatar {
  border-radius: 50%;
  border: 4px solid #9b5de5;
  box-shadow: 0 0 20px #9b5de5, 0 0 40px #7b3fbf;
  object-fit: cover;
  display: block;
  margin: 20px auto;
  transition: transform 0.3s ease;
}

.avatar:hover, .ghosty-avatar:hover {
  transform: scale(1.2);
}

/* ===================== MESSAGE BOX ===================== */
.message {
  max-width: 95%;
  margin: 20px auto 50px auto;
  font-size: 2em;
  line-height: 1.8em;
  color: #e0c3ff;
  text-shadow: 0 0 6px #cda6ff, 0 0 20px #9b5de5;
  padding: 20px;
  border-radius: 25px;
  background: rgba(60,0,70,0.6);
  backdrop-filter: blur(5px);
  text-align: center;
}

/* ===================== TAEKOOK GALLERY ===================== */
.taekook-gallery {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 25px;
  margin-bottom: 60px;
}

.taekook-gallery img {
  width: 200px;
  height: 200px;
  object-fit: cover;
  border-radius: 25px;
  box-shadow: 0 0 25px #9b5de5, 0 0 50px #7b3fbf;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.taekook-gallery img:hover {
  transform: scale(1.25);
  box-shadow: 0 0 50px #9b5de5, 0 0 75px #7b3fbf;
}

/* ===================== POPUP OVERLAY ===================== */
#ghostyPopupOverlay {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.5);
  backdrop-filter: blur(5px);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  flex-direction: column;
  text-align: center;
  padding: 20px;
  animation: fadeIn 1s ease;
}

.halloween-container .popup-content {
  background: rgba(0, 0, 0, 0.75);
  border: 2px solid #9b5de5;
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 0 30px #9b5de5;
  text-align: center;
}

.halloween-container .ghosty-font h1 {
  font-family: 'Creepster', cursive;
  font-size: 3em;
  color: #9b5de5;
  text-shadow: 0 0 20px #9b5de5;
  margin-bottom: 20px;
  margin-top: 20px;
}

.halloween-container .ghosty-font p {
  font-family: 'Special Elite', cursive;
  font-size: 1.3em;
  color: #7CFC00; /* neon green for that eerie glow */
  line-height: 1.5;
  text-shadow: 
    0 0 5px #000,      /* subtle dark outline for readability */
    0 0 8px #7CFC00,   /* inner glow matching text color */
    0 0 12px #32CD32;  /* soft outer glow for extra pop */
  letter-spacing: 0.5px; /* slight spacing for readability */
  margin-bottom: 20px;
}

.halloween-container .ghosty-font button, #startHuntBtn {
  font-family: 'Orbitron', sans-serif;
  font-size: 1.3em;
  padding: 12px 30px;
  border-radius: 12px;
  border: none;
  background: linear-gradient(90deg,#7b3fbf,#9b5de5);
  color: #fff;
  cursor: pointer;
  box-shadow: 0 0 15px #9b5de5, 0 0 30px #7b3fbf;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  margin-bottom: 20px;
}

.halloween-container .ghosty-font button:hover, #startHuntBtn:hover {
  transform: scale(1.1);
  box-shadow: 0 0 40px #9b5de5, 0 0 60px #7b3fbf;
}

.halloween-container .ghosty-gifs {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 30px;
}

.halloween-container .ghosty-gifs img {
  width: 280px;
  height: 280px;
  object-fit: cover;
  border-radius: 20px;
  box-shadow: 0 0 20px #9b5de5, 0 0 40px #7b3fbf;
}

/* ===================== HALLOWEEN ICONS & SPARKLES ===================== */
.halloween-icon {
  position: fixed;
  cursor: pointer;
  z-index: 9999;
  transition: transform 0.3s ease, opacity 0.3s ease;
  filter: invert(1);
  pointer-events: auto;
}

.halloween-icon:hover {
  transform: scale(1.3) rotate(var(--rotate-deg));
}

.spooky, .sparkle {
  position: absolute;
  pointer-events: none;
  border-radius: 50%;
  animation: sparkle 0.8s ease-out forwards;
}

.spooky { z-index: 5; }
.sparkle { width: 8px; height: 8px; background: white; }

@keyframes sparkle {
  0% { opacity: 1; transform: scale(1) translate(0,0); }
  100% { opacity: 0; transform: scale(0.3) translate(var(--sx), var(--sy)); }
}

/* ===================== COUNTER ===================== */
.halloween-counter {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: rgba(50,0,70,0.85);
  color: #fff;
  padding: 10px 15px;
  border-radius: 20px;
  font-size: 14px;
  z-index: 9999;
  box-shadow: 0 0 20px #9b5de5;
}

/* ===================== RESPONSIVE ===================== */
@media (max-width: 1024px) {
  #ghostyPopupOverlay {
    padding: 0;          /* remove overlay padding */
    display: flex;
    justify-content: center; 
    align-items: center;
    text-align: center;
  }
  .popup-content {
    width: 100%;
    max-width: 700px;     /* reasonable tablet max-width */
    padding: 25px;        /* inner padding for content */
    margin: 0 auto;       /* center horizontally */
    box-sizing: border-box;
  }
  .avatar { width: 200px; height: 200px; margin: 25px auto; }
  .message { font-size: 1.35em; line-height: 1.6em; padding: 16px; margin-bottom: 40px; }
  .taekook-gallery img { width: 180px; height: 180px; }
  .ghosty-avatar { width: 180px; height: 180px; margin-bottom: 20px; }
  .ghosty-gifs img { width: 140px; height: 140px; gap: 10px; }
  #ghostyPopupOverlay h1 { font-size: 2em; }
  #ghostyPopupOverlay p { font-size: 1.2em; line-height: 1.3em; margin-bottom: 20px; }
}

@media (max-width: 768px) {
  body, .halloween-container {
    display: flex;
    flex-direction: column;
    align-items: center;      /* horizontal center */
    justify-content: flex-start;
    margin: 0;
    padding: 0;
    width: 100%;
    text-align: center;
  }

  .halloween-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    width: 100%;
    max-width: 100%;
    padding: 15px;
    box-sizing: border-box;
    text-align: center;
    margin: 0 auto;
  }

  .taekook-gallery {
    width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;  /* center gallery */
    gap: 12px;
    margin: 10px auto;
  }

  .taekook-gallery img {
    gap: 1px;
    width: 120px;
    height: 120px;
    object-fit: cover;
    margin: 0 auto;
  }
  
  #ghostyPopupOverlay {
    padding: 0;          /* remove overlay padding */
    display: flex;
    justify-content: center; 
    align-items: center;
    text-align: center;
  }
  .popup-content {
    width: 100%;
    max-width: 320px;
    text-align: center;
    padding: 15px;
    box-sizing: border-box;
    align-items: center;
    margin: 0 auto; 
  }

  .message {
    margin: 10px auto;
    padding: 14px;
    font-size: 1em;
    line-height: 1.3em;
    max-width: 95%;
  }

  .avatar, .ghosty-avatar {
    width: 150px; 
    height: 150px;
    margin: 20px auto;
    display: block;
  }

  .button-container {
    justify-content: center;
    margin: 10px auto;
    width: 100%;
  }

  .ghosty-gifs { gap: 20px; flex-wrap: wrap; justify-content: center; margin-top: 15px; }
  .ghosty-gifs img { width: 50px; height: 50px; }
  #ghostyPopupOverlay h1 { font-size: 1.5em; margin-bottom: 10px; }
  #ghostyPopupOverlay p { font-size: 0.95em; line-height: 1.3em; margin-bottom: 15px; }
  #startHuntBtn { font-size: 0.9em; padding: 8px 16px; margin-top: 10px; }
  h1 { font-size: 2.1em !important; }
  .message { font-size: 1em !important; line-height: 1.3em; margin: 10px auto; }
  .spooky { width: 12px; height: 12px; }
}

/* ===================== Game / Home Buttons ===================== */
.Home.Button,
.Games.Button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 18px;
  margin: 5px;
  border-radius: 10px;
  background: #7b3fbf;       /* simple solid color */
  color: #fff;
  font-size: 22px;           /* emoji/icon size */
  font-family: 'Creepster', cursive;
  text-decoration: none;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.Home.Button:hover,
.Games.Button:hover {
  transform: scale(1.15);
}

/* Container to keep them together */
.button-container {
  display: flex;
  gap: 12px;                 /* space between buttons */
  justify-content: center;    /* center on page */
  margin-top: 20px;
}

/* Optional: smaller on mobile */
@media (max-width: 768px) {
  .Home.Button,
  .Games.Button {
    padding: 8px 14px;
    font-size: 18px;
  }
}

</style>
</body>
</html>
